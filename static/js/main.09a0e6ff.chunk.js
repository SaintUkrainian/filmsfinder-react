(this["webpackJsonpfilmsfinder-react"]=this["webpackJsonpfilmsfinder-react"]||[]).push([[0],{33:function(e,n,t){},39:function(e,n,t){},57:function(e,n,t){},58:function(e,n,t){},59:function(e,n,t){},60:function(e,n,t){},61:function(e,n,t){},62:function(e,n,t){},63:function(e,n,t){},64:function(e,n,t){},65:function(e,n,t){},66:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t(1),o=t.n(i),s=t(6),r=t.n(s),l=(t(33),t(26)),a=t(2),u=(t(39),t(7)),d=t(9),f=t.n(d),j=(t(57),Object(a.b)((function(e){return{id:e.selectedMovie.id,close:e.selectedMovie.close}}),(function(e){return{clearSelection:function(){return e({type:"clear_selected_movie"})}}}))((function(e){return Object(c.jsx)(u.a,{in:e.show||!e.close,timeout:{enter:500,exit:400},unmountOnExit:!0,mountOnEnter:!0,classNames:"slide",children:Object(c.jsx)("div",{className:"Backdrop",onClick:e.close?e.closeModal:e.clearSelection})})}))),h=(t(58),function(){return Object(c.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ/SURBVHgB7ZjPaxNREMdn3r5drUpR9OihCAkieOjJHgOeFA9exR/Z5FBPil70ZvGgFy8VRUGhTQ/ePLSYq9T4F/SgtDSpsaeqKEmJYNl9u+O80EhZk23SbPMD9gOPffsyb/huZt/MsEgMDAPDIFRrFDAkxEKjJhYaNUMjVAYXOBOM8SUFnVFFxPkufXxlHx9a/hrMo3ybos4pB3zY1DmLYRoltCa3Pdphs8X6NI956M5HnTChOhQF6I6lCHzUiU991MRCoyYWGjVh6SnVZk9dCKkol7er1G4ssI+lUIsIKtNUE5+dVqb0rhpDhE7BHtkhNA0RoB3FhylqYqFREwttB7v8Z2zn/SSRaZfpaDPbsIS/r6RL6ga4NG4X3SoCrgGB5xTVOb5Wsivux5nT5uJACEWiU7mkeVfPM0X3vQ+0MZe0rnHSRLukHvDyYAgFQZX0Gp03fPcsl5zjBuARu+jcwVX1ibN7LWiOOutznUXoEVd/0ahZdTPgiQkE+sFlET3lvxImkCDxnOvQF34KJKT1XMJ8qPf0pTKZFf8mON5CLimvsIRLoLxnUhrvBGGePP82EE7MJmUWlJyzV9z7jX29P/XoOY0p/5ubUuCIntQHWDVAMPXMkO4xfj22/m3rdeg19rJjCwEXfBA/EekMGXISxJaLSr7gmH/nVukkgcjnksbT+gNpjf0QqsmU3Htg+nl0rHEgdctHsBD8xxKsZZfURc4ITxq2fe2e+KSP/K5ZpZkEvuFwbwgf1mcTB96+TuBnfgtGg/b9S08KCocs9Si76pxgYdMexzpbUi/Bh4MeQP4/+2Dj3Euuf6PDwbVUk89MTTv8QSTu8PcDHIbQa/4CyoYGw4CcTusAAAAASUVORK5CYII=",alt:"logo",style:{margin:10}})}),g=(t(59),function(){return Object(c.jsx)("div",{class:"loader",children:"Loading..."})}),m=(t(60),function(e){return{type:"set_movies",movies:e}}),b=function(e){return function(n){n({type:"start_fetching"}),n(function(e){return console.log(e),{type:"set_genre",id:e.id,name:e.name}}(e)),f.a.get("https://api.themoviedb.org/3/discover/movie?api_key=58af3dc3b19432c261816f7a48688477&with_genres="+e.id).then((function(e){console.log(e),n(m(e.data.results))}))}},O=Object(a.b)((function(e){return{genres:e.genres.genres}}),(function(e){return{setGenre:function(n){return e(b(n))}}}))((function(e){var n;return console.log(e.genres),n=e.genres?e.genres.map((function(n){return Object(c.jsx)("button",{className:"Genre",onClick:function(){return e.setGenre(n)},children:n.name},n.id)})):Object(c.jsx)(g,{}),Object(c.jsxs)("div",{className:"Genres",children:[Object(c.jsx)("h3",{style:{textDecoration:"underline",color:"white",margin:0},children:"Search by genres:"}),n]})})),v=function(e){return Object(c.jsx)(u.a,{in:e.show,classNames:"slider",unmountOnExit:!0,mountOnEnter:!0,timeout:{enter:500,exit:400},children:Object(c.jsxs)("div",{className:"SideDrawer",children:[Object(c.jsx)(h,{}),Object(c.jsx)("h1",{children:"Good old FilmsFinder, but made with React.js"}),Object(c.jsx)("hr",{}),Object(c.jsx)(O,{})]})})},x=(t(61),t(62),function(e){return Object(c.jsxs)("div",{className:"Rect1",onClick:e.showModal,children:[Object(c.jsx)("div",{className:"Rect3"}),Object(c.jsx)("div",{className:"Rect3"}),Object(c.jsx)("div",{className:"Rect3"})]})}),p=(t(63),function(e){return Object(c.jsx)(u.a,{classNames:"grow",children:Object(c.jsx)("input",{className:"Search",type:"text",placeholder:"Find a movie..."})})}),w=Object(a.b)((function(e){return{genre:e.selectedGenre.name}}))((function(e){return Object(c.jsxs)("div",{className:"AppBar",children:[Object(c.jsxs)("div",{className:"MenuSearch",children:[Object(c.jsx)(x,{showModal:e.showSideDrawer}),Object(c.jsx)(p,{})]}),Object(c.jsx)("h1",{className:"genre",children:e.genre}),Object(c.jsx)("h2",{className:"neon",children:"FilmsFinder React version"}),Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)(h,{})})]})})),A=function(e){return Object(c.jsxs)(o.a.Fragment,{children:[Object(c.jsx)(v,{show:e.show}),Object(c.jsx)(j,{closeModal:e.closeSideDrawer,show:e.show}),Object(c.jsx)(w,{showSideDrawer:e.showSideDrawer})]})},S=(t(64),function(e){return Object(c.jsx)("div",{className:"Film",onClick:e.select,children:Object(c.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/"+e.imageUrl,alt:"film-logo"})})}),N=(t(65),Object(a.b)((function(e){return{movies:e.movies.list,fetching:e.movies.fetching,genre:e.selectedGenre.name}}),(function(e){return{fetchMovies:function(){return e((function(e){e({type:"start_fetching"}),f.a.get("https://api.themoviedb.org/3/movie/popular?api_key=58af3dc3b19432c261816f7a48688477&language=en-US&page=1").then((function(n){console.log(n.data.results),e(m(n.data.results))}))}))},setSelectedMovie:function(n,t){return e(function(e,n){return console.log(e,n),function(t){t({type:"fetch_movie"}),f.a.get("https://api.themoviedb.org/3/movie/"+e+"?api_key=58af3dc3b19432c261816f7a48688477&language=en-US").then((function(c){console.log(c),t(function(e,n,t){return{type:"set_selected_movie",id:e,title:n,info:t}}(e,n,c.data))}))}}(n,t))}}}))((function(e){var n,t=e.fetchMovies;return Object(i.useEffect)((function(){console.log("fetching movies"),t()}),[t]),console.log(e.fetching),console.log(e.movies),e.fetching?(n=Object(c.jsx)(g,{}),console.log("Spinner")):(n=e.movies.map((function(n){return Object(c.jsx)(S,{imageUrl:n.poster_path,title:n.title,select:function(){return e.setSelectedMovie(n.id,n.title)}})})),console.log("Fetched")),Object(c.jsx)("div",{className:"Films",children:n})}))),E=(t(66),Object(a.b)((function(e){return{id:e.selectedMovie.id,filmInfo:e.selectedMovie.info}}),(function(e){return{clearSelection:function(){return e({type:"clear_selected_movie"})}}}))((function(e){var n;return n=e.filmInfo?Object(c.jsxs)(o.a.Fragment,{children:[Object(c.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/"+e.filmInfo.poster_path,alt:"poster"}),Object(c.jsxs)("div",{className:"description",children:[Object(c.jsx)("h1",{children:e.filmInfo.title}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Release date: "}),e.filmInfo.release_date]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Budget: "}),"$",0==e.filmInfo.budget?"ecret":e.filmInfo.budget]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Minutes long: "}),e.filmInfo.runtime]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Genres: "}),e.filmInfo.genres.map((function(e){return e.name})).join(", ")]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Description:"})," ",e.filmInfo.overview]})]})]}):Object(c.jsx)(g,{}),Object(c.jsx)(u.a,{in:null!==e.id,unmountOnExit:!0,mountOnEnter:!0,classNames:"film",timeout:300,children:Object(c.jsx)("div",{className:"SelectedFilm",onClick:e.clearSelection,children:Object(c.jsx)("div",{className:"container",children:n})})})}))),M=Object(a.b)(null,(function(e){return{fetchGenres:function(){return e((function(e){f.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=58af3dc3b19432c261816f7a48688477&language=en-US").then((function(n){console.log(n),e(function(e){return{type:"set_genres",genres:e}}(n.data.genres))}))}))}}}))((function(e){var n=Object(i.useState)(!1),t=Object(l.a)(n,2),o=t[0],s=t[1],r=e.fetchGenres;Object(i.useEffect)((function(){r()}),[r]);return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(A,{show:o,showSideDrawer:function(){s(!0)},closeSideDrawer:function(){s(!1)}}),Object(c.jsx)(E,{}),Object(c.jsx)(N,{})]})})),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var y=t(10),U=t(8),F={id:null,title:null,info:null,fetching:!1,close:!0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"set_selected_movie":return{id:n.id,title:n.title,info:n.info,fetchin:!1,close:!1};case"clear_selected_movie":return Object(U.a)(Object(U.a)({},e),{},{id:null,title:null,info:null,close:!0});case"fetch_movie":return Object(U.a)(Object(U.a)({},e),{},{fetching:!0});default:return e}},R={genres:null},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"set_genres":return{genres:n.genres};default:return e}},D=t(25),B={id:null,name:"Most Popular"},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"set_genre":return console.log(n.name),{id:n.id,name:n.name};default:return e}},P={list:null,fetching:!0},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"set_movies":return{list:n.movies,fetching:!1};case"start_fetching":return Object(U.a)(Object(U.a)({},e),{},{fetching:!0});default:return e}},X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,V=Object(y.c)({movies:T,selectedMovie:I,genres:C,selectedGenre:G}),Y=Object(y.e)(V,X(Object(y.a)(D.a))),Z=Object(c.jsx)(a.a,{store:Y,children:Object(c.jsx)(M,{})});r.a.render(Z,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/filmsfinder-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/filmsfinder-react","/service-worker.js");k?function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):_(e)}))}}()}},[[67,1,2]]]);
//# sourceMappingURL=main.09a0e6ff.chunk.js.map